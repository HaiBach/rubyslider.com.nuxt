(function(d){var a={speedFxDemo:5E3,delayFxDemo:0,speedFxTable:800,actived:"actived",keyframes:window.__rubyAnimateKeyframes__,keyframeCur:null,nameKeyframe:"flipXIn"},m={Tween:function(a,q,l){if(d.isArray(l))for(var c=0,g=l.length;c<g;c++){var h=d.extend({},l[c].prop||l[c]);if(0==c)a.css(q,h,{type:"reset"});else{var f=d.extend({},l[c].opts);a.animate(q,h,f,!1)}}},JsonValid:function(a){return a.replace(/([\$\w]+)\s*:/g,function(a,b){return'"'+b+'":'}).replace(/'([^']+)'/g,function(a,b){return'"'+
b+'"'}).replace(/(\}\s*,\s*)\n\]$/,function(a,b){return"} \n]"})},JsonFormatToString:function(a){return JSON.stringify(a,null,4).replace(/\{\s*\n+\s*\"/g,'{ "').replace(/,\s*"/g,', "').replace(/\s*\}/g," }").replace(/:\s+\[\s*\n+\s*/g,": [").replace(/\n\s*\],/g,"],").replace(/(\d+,)\s*\n\s*/g,function(a,b){return b+" "})}},c={Init:function(){a.$fxDemoPreview=d(".fxdemo-preview");a.$fxDemoItem=d(".fxdemo-item");a.$fxDemoOuter=d(".fxdemo-outer");a.tweenDemo=new RubyTween;a.isFxDemo=a.$fxDemoPreview.length&&
a.$fxDemoItem.length},TweenAnimate:function(){var b=a.tweenDemo,d=rs01MODULE.RUBYANIMATE.Tween(a.keyframeCur,a.speedFxDemo,a.delayFxDemo,null,a.rubyTable.one.va.rubyAnimateKeyframes);m.Tween(b,a.$fxDemoItem,d);b.eventComplete(function(){a.$fxDemoPreview.removeClass("fxdemo-running")}).eventStep(function(){a.rubyRanger&&a.rubyRanger.go(b.positionCur(),!0)})},UpdateAndRestart:function(b){a.$fxDemoPreview.addClass("fxdemo-running");a.$fxDemoItem.attr("style","");c.TweenAnimate();!b&&a.tweenDemo.restart()},
InitControlTween:function(){var b=a.tweenDemo;a.$fxDemoPreview.addClass("fxdemo-running");b.tw.animate.length||(c.TweenAnimate(),b.go(0))},Toggle:function(){var b=a.tweenDemo;c.InitControlTween();100<=b.positionCur()?c.UpdateAndRestart():b.isPause()?b.play():b.pause()},EventClick:function(){if(a.isFxDemo)a.$fxDemoOuter.on("click",function(a){c.Toggle()})},EventOnItem:function(){var b=a.$fxDemoItem.find("img");if(b.length)b.on("dragstart selectstart",function(){return!1})}},f={Init:function(){a.rubyRanger=
d(".control-track").rubyranger({valueBegin:0,range:[0,10],round:1})},SetPosCurForTweenDemo:function(){var b=a.rubyRanger.positionCur();0<b&&a.$fxDemoPreview.addClass("fxdemo-running");100<=b&&a.$fxDemoPreview.removeClass("fxdemo-running");0===b&&c.UpdateAndRestart(!0);a.tweenDemo.tw.animate.length||c.TweenAnimate();a.tweenDemo.go(b)},EventTap:function(){a.rubyRanger.ev.on("tapMove",function(){f.SetPosCurForTweenDemo()});a.rubyRanger.ev.on("tapOnTrack",function(){f.SetPosCurForTweenDemo()})}},e={Ruler:function(){a.ruler=
d("#ruler").rubyruler({isRulerTop:!0,isRulerLeft:!1,isConner:!0,target:".fxdemo-outer"})},ButtonPlay:function(){a.$btnPlay=d(".btn-play");if(a.$btnPlay.length)a.$btnPlay.on("click",function(){var b=a.tweenDemo;c.InitControlTween();100<=b.positionCur()?b.restart():b.play();return!1})},ButtonPause:function(){a.$btnPause=d(".btn-pause");if(a.$btnPause.length)a.$btnPause.on("click",function(){a.tweenDemo.pause();return!1})},ButtonRestart:function(){a.$btnRestart=d(".btn-restart");if(a.$btnRestart.length)a.$btnRestart.on("click",
function(){a.tweenDemo.restart();return!1})},ControlDuration:function(){var b=a.$controlDuration=d(".control-duration"),c=d(".control-duration .rf01input-updown-value");if(b.length&&c.length)b.on("change",function(){var b=parseInt(c.val(),10);a.speedFxDemo=b;a.tweenDemo.reset(!0);f.SetPosCurForTweenDemo()})},ButtonToggle:function(){a.rubyToggle=d(".rubytoggle").rubytoggle()}},k={Init:function(){var b=d("#editor");a.editor=CodeMirror.fromTextArea(b[0],{mode:{name:"javascript",json:!0},minHeight:300,
height:500,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,viewportMargin:Infinity,extraKeys:{"Ctrl-Space":"autocomplete"}})},SetContent:function(){var b=m.JsonFormatToString(a.keyframeCur);a.editor.setValue(b)},ButtonUpdate:function(){a.$editorUpdate=d(".editor-update");if(a.$editorUpdate.length)a.$editorUpdate.on("click",function(){var b=a.editor.getValue();try{b=m.JsonValid(b),b=JSON.parse(b),a.keyframeCur=b,c.UpdateAndRestart()}catch(d){console.log(d)}})},ButtonReset:function(){a.$editorReset=
d(".editor-reset");if(a.$editorReset.length)a.$editorReset.on("click",function(){k.SetContent();c.UpdateAndRestart(!0);f.SetPosCurForTweenDemo();return!1})}},n={RenderAtFirst:function(){a.$fxTable=d(".fxtable");if(a.$fxTable.length){for(var b={title0:"Basic - Specials",group0:"fadeOut fadeIn fadeSlowOut fadeSlowIn bounceOut bounceIn roSlit newspaperOut newspaperIn holeOut holeIn br flipXOut flipYOut flipXIn flipYIn lightSpeedOut lightSpeedIn br hingeLeft hingeRight rollLeftOut rollRightOut rollLeftIn rollRightIn magic swap twistUpIn twistDownIn br foolishOut foolishIn bombLeftOut bombRightOut".split(" "),
title1:"Pull - Glue - Perspective",group1:"pullOut pullIn pushOut pushIn swashOut swashIn br pullBounceOut pullBounceIn pushBounceOut pushBounceIn pullSoftOut pullSoftIn pushSoftOut pushSoftIn br glueLeftOut glueRightOut glueUpOut glueDownOut glueLeftIn glueRightIn glueUpIn glueDownIn br perspectiveLeftOut perspectiveRightOut perspectiveUpOut perspectiveDownOut perspectiveLeftIn perspectiveRightIn perspectiveUpIn perspectiveDownIn".split(" "),title2:"Move - Fan - Scale",group2:"moveLeftBehind moveRightBehind moveLeftFront moveRightFront moveShortLeftBehind moveShortRightBehind moveShortLeftFront moveShortRightFront br fanBehindUp fanBehindDown fanFrontUp fanFrontDown br soEdgeLeftOut soEdgeRightOut soEdgeUpOut soEdgeDownOut soEdgeLeftIn soEdgeRightIn soEdgeUpIn soEdgeDownIn br soEdgeOneLeftOut soEdgeOneRightOut soEdgeOneUpOut soEdgeOneDownOut soEdgeOneLeftIn soEdgeOneRightIn soEdgeOneUpIn soEdgeOneDownIn".split(" "),
title3:"Slide",group3:"slideLeftOut slideRightOut slideUpOut slideDownOut slideLeftIn slideRightIn slideUpIn slideDownIn br slideOneLeftOut slideOneRightOut slideOneUpOut slideOneDownOut slideOneLeftIn slideOneRightIn slideOneUpIn slideOneDownIn br slideShortLeftOut slideShortRightOut slideShortUpOut slideShortDownOut slideShortLeftIn slideShortRightIn slideShortUpIn slideShortDownIn br slideFadeLeftOut slideFadeRightOut slideFadeUpOut slideFadeDownOut slideFadeLeftIn slideFadeRightIn slideFadeUpIn slideFadeDownIn br slideBounceLeftOut slideBounceRightOut slideBounceUpOut slideBounceDownOut slideBounceLeftIn slideBounceRightIn slideBounceUpIn slideBounceDownIn br slideTinLeftOut slideTinRightOut slideTinUpOut slideTinDownOut slideTinLeftIn slideTinRightIn slideTinUpIn slideTinDownIn br slideShakeLeftOut slideShakeRightOut slideShakeUpOut slideShakeDownOut slideShakeLeftIn slideShakeRightIn slideShakeUpIn slideShakeDownIn br slideScaleLeftOut slideScaleRightOut slideScaleUpOut slideScaleDownOut slideScaleLeftIn slideScaleRightIn slideScaleUpIn slideScaleDownIn br slidePullLeftOut slidePullRightOut slidePullUpOut slidePullDownOut slidePullLeftIn slidePullRightIn slidePullUpIn slidePullDownIn".split(" "),
title4:"Rotate",group4:"rotateOut rotateIn br roLeftOut roRightOut roUpOut roDownOut roLeftIn roRightIn roUpIn roDownIn br roDownLeftOut roDownRightOut roUpLeftOut roUpRightOut roDownLeftIn roDownRightIn roUpLeftIn roUpRightIn br roSoftLeftOut roSoftRightOut roSoftLeftIn roSoftRightIn br roTwistLeftOut roTwistRightOut roTwistUpOut roTwistDownOut roTwistLeftIn roTwistRightIn roTwistUpIn roTwistDownIn br roWheelLeftOut roWheelRightOut roWheelUpOut roWheelDownOut roWheelLeftIn roWheelRightIn roWheelUpIn roWheelDownIn br roFlitLeftOut roFlitRightOut roFlitUpOut roFlitDownOut roFlitLeftIn roFlitRightIn roFlitUpIn roFlitDownIn br roFoldLeftOut roFoldRightOut roFoldUpOut roFoldDownOut roFoldLeftIn roFoldRightIn roFoldUpIn roFoldDownIn br roRoomLeftOut roRoomRightOut roRoomUpOut roRoomDownOut roRoomLeftIn roRoomRightIn roRoomUpIn roRoomDownIn br roEdgeLeftOut roEdgeRightOut roEdgeUpOut roEdgeDownOut roEdgeLeftIn roEdgeRightIn roEdgeUpIn roEdgeDownIn roEdgeSoftLeftOut roEdgeSoftRightOut roEdgeSoftUpOut roEdgeSoftDownOut br roShortPushLeftOut roShortPushRightOut roShortPushLeftIn roShortPushRightIn roShortPullLeftOut roShortPullRightOut roShortPullLeftIn roShortPullRightIn".split(" "),
title5:"Attentions",group5:"wave juggle flatten bounce flash pulse rubberBand swing tada wobble br flip bobUp bobDown bobLeft bobRight ringLeft ringRight ringUp ringDown br shake shakeSlow shakeLittle shakeHard shakeHor shakeVer shakeRotate shakeOpacity shakeCrazy".split(" ")},c=0,l="",f=0,g=0;5>=g;g++){for(var h="",e=b["group"+g],k=b["title"+g],m=0,n=e.length-1;m<=n;m++){var p=e[m];"br"==p?h+='<div class="fx-br"></div>':(c++,h+='<div class="col3 col-xxs-6"><div class="fx rs01swipe-prevent" data-fx="'+
p+'">    <div class="fx-live">        <div class="fx-name"><span class="fx-num">'+c+"</span>"+p+'</div>        <a class="fx-import">import</a>    </div></div></div>',f++)}l+='<div class="fx-issue fx-issue'+g+'"><div class="container">    <div class="rs01pagitem">'+k+'</div>    <div class="fx-list row">'+h+"</div></div></div>"}a.$fxTable.html(l);a.rubyTable=a.$fxTable.rubyslider({optionsPlus:"tabs",pag:{align:"center"},isLoop:!1})}},EventClickOnItem:function(){d(".fx").each(function(){var b=d(this),
c=b.find(".fx-live"),f=b.find(".fx-name");b.find(".fx-in");b.find(".fx-out");var e=b.data("fx"),g=new RubyTween,h=c.attr("style")||"",k=rs01MODULE.RUBYANIMATE.Tween(e,a.speedFxTable,0,null,a.rubyTable.one.va.rubyAnimateKeyframes);f.on("click",function(d){b.hasClass(a.actived)||(b.addClass(a.actived),m.Tween(g,c,k),g.eventComplete(function(){c.attr("style",h);b.removeClass(a.actived)}));g.restart();return!1})})},EventClickOnImport:function(){d(".fx-import").each(function(){var b=d(this),e=b.closest(".fx").data("fx");
if(e)b.on("click",function(){a.nameKeyframe=e;a.keyframeCur=a.keyframes[e];k.SetContent();a.$fxDemoItem.attr("style","");c.TweenAnimate();a.tweenDemo.go(0);f.SetPosCurForTweenDemo();return!1})})}},r={Init:function(){d(".manual").rubyslider({optionsPlus:"tabs",speed:400,pag:{align:"justify",sizeAuto:null,moreClass:"container"},isSwipe:!1,isDeeplinking:!0})}};d(document).ready(function(){null===a.keyframeCur&&(a.keyframeCur=a.keyframes[a.nameKeyframe]);k.Init();k.SetContent();k.ButtonUpdate();k.ButtonReset();
n.RenderAtFirst();n.EventClickOnItem();n.EventClickOnImport();r.Init();c.Init();c.EventClick();f.Init();f.EventTap();e.ButtonPlay();e.ButtonPause();e.ButtonRestart();e.ControlDuration();e.ButtonToggle();prettyPrint()});d(window).load(function(){e.Ruler();c.EventOnItem();var a=document.createElement("canvas");a.width=600;a.height=400})})(jQuery);
